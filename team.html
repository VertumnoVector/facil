<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TEAM facilitado</title>
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="css/animatedBg.css">
        <!--[if !IE]><!-->
        <style>
        .material {
            border:1px solid rgb(0, 51, 128);
            -moz-border-radius:8px;
            -webkit-border-radius:8px;	
            border-radius:8px;	
        }
        </style>
        <!--<![endif]-->
</head>

<body >
    
    <nav class="navbar navbar-dark fixed-top" style="background-color:#126800 ;">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">Termo de Exame e Averiguação de Material - TEAM</span>
        </div>
        <small class="ps-2 mt-0 text-white">Modelo online facilitado</small>
    </nav>
    <div class="container justify-content-center flex-nowrap">
        <div class="row p-5 mt-5">
            <div class="col">
                <h1 class="text-center">Entre com as informações abaixo</h1>
                <center><small>O formulário irá gerar um PDF automaticamente</small></center>
            </div>
        </div>
        <form class=" justify-content-center row g-3 p-2 needs-validation" action="/generated/printTEAM.php" method="post" novalidate>
            <div class="row">
                <h2>1. IDENTIFICAÇÃO DOS MILITARES</h2>
                <div class="col-md-8 mb-3">
                   
                    <label for="inputNomeacao" class="form-label">Qual o numero do boletim interno que nomeou o responsável?</label>
                    <input type="input" class="form-control" id="inputNomeacao" name="inputNomeacao" aria-describedby="nomeacaoHelp"
                        required>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Coloque o número!</div>
                    <div id="nomeacaoHelp" class="form-text">Não precisa colocar nada além do numero do boletim</div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="inputDataNomeacao" class="form-label">Data da publicação</label>
                    <input type="input" class="form-control" id="inputDataNomeacao" name="inputDataNomeacao" aria-describedby="nomeacaoHelp"required>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Coloque o número!</div>
                    <div id="nomeacaoDataHelp" class="form-text">Ex.: 10/05/2020</div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-10 mb-3">
                    <label for="inputNome" class="form-label">Qual o nome completo do presidente do TEAM?</label>
                    <input type="text" class="form-control" id="inputNome" name="inputNome"  aria-describedby="nomeHelp" required>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Coloque seu nome completo</div>
                    <div id="nomeacaoHelp" class="form-text">Ex.: Luiz Fernando da Mota Carvalho</div>
                </div>
                <div class="col-md-2 mb-3">
                    <label for="inputNome" class="form-label">Posto e graduação</label>
                    <select class="form-select" name="inputNomePosto" required aria-label="selectDependencia">
                        <option value="" disabled selected>Selecione...</option>
                        <option value="Maj">Major</option>
                        <option value="Cap">Capitão</option>
                        <option value="1º Ten">1º Tenente</option>
                        <option value="2º Ten">2º Tenente</option>
                        <option value="Asp">Aspirante</option>
                    </select>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Escolha!</div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-10 mb-3">
                    <label for="inputNome2" class="form-label">Qual o nome completo do 1º MEMBRO?</label>
                    <input type="text" class="form-control" id="inputNome2" name="inputNome2"  aria-describedby="nomeHelp" required>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Coloque seu nome completo</div>
                    <div id="nomeacaoHelp" class="form-text">Ex.: Luiz Fernando da Mota Carvalho</div>
                </div>
                <div class="col-md-2 mb-3">
                    <label for="inputNome" class="form-label">Posto e graduação</label>
                    <select class="form-select" name="inputNomePosto2" required aria-label="selectDependencia">
                        <option value="" disabled selected>Selecione...</option>
                        <option value="Maj">Major</option>
                        <option value="Cap">Capitão</option>
                        <option value="1º Ten">1º Tenente</option>
                        <option value="2º Ten">2º Tenente</option>
                        <option value="Asp">Aspirante</option>
                        <option value="S Ten">Subtenente</option>
                        <option value="1º Sgt">1º Sargento</option>
                        <option value="2º Sgt">2º Sargento</option>
                        <option value="3º Sgt">3º Sargento</option>
                    </select>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Escolha!</div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-10 mb-3">
                    <label for="inputNome" class="form-label">Qual o nome completo do 2º MEMBRO?</label>
                    <input type="text" class="form-control" id="inputNome3" name="inputNome3"  aria-describedby="nomeHelp" required>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Coloque seu nome completo</div>
                    <div id="nomeacaoHelp" class="form-text">Ex.: Luiz Fernando da Mota Carvalho</div>
                </div>
                <div class="col-md-2 mb-3">
                    <label for="inputNome" class="form-label">Posto e graduação</label>
                    <select class="form-select" name="inputNomePosto3" required aria-label="selectDependencia">
                        <option value="" disabled selected>Selecione...</option>
                        <option value="Maj">Major</option>
                        <option value="Cap">Capitão</option>
                        <option value="1º Ten">1º Tenente</option>
                        <option value="2º Ten">2º Tenente</option>
                        <option value="Asp">Aspirante</option>
                        <option value="S Ten">Subtenente</option>
                        <option value="1º Sgt">1º Sargento</option>
                        <option value="2º Sgt">2º Sargento</option>
                        <option value="3º Sgt">3º Sargento</option>
                    </select>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Escolha!</div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h2 class="mt-5">2. IDENTIFICAÇÃO DO MATERIAL</h2>
                </div>
                <div class="col-md-4">
                    <a class='btn btn-success mt-5'type="button" name="btnAddMaterial" id="btnAddMaterial" onclick="addMaterial()">(+) Adicionar material</a>
                </div>

            </div>
            <span class="alert alert-info "><img src="/assets/img/caverna.PNG" width="100" alt="" style="display: flex;"><b>ORIENTAÇÃO</b><br>Adicionar primeiro os materiais que serão avaliados. A quantidade está na nota de BI que nomeou a comissão.<br>Adicione tantos quantos necessários;<br></span>

                <div id="materiais">
                   
                </div>
            <div class="row">
                <h2 class="mt-5">3. EXAME DO MATERIAL</h2>
            <input type="hidden" name="qtdMaterial" id="qtdMaterial">
            </div>
            <div class="row">
                <div class="col-md-12 mb-3">
                    <label for="inputEstadoGeral" class="form-label">Descrever estado geral do material </label>
                    <textarea cols="40" rows="5" class="form-control" id="inputEstadoGeral" name="inputEstadoGeral"
                        aria-describedby="inputEstadoGeral" required></textarea>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Não tem como prosseguir sem ao menos ter uma descrição</div>
                    <div id="estadoGeralHelp" class="form-text">Evitar expressões genéricas tais como: em mau estado,
                        inservível, imprestável ou avariado. Se caso usa-las diga o porquê destas condições.<br>(NÃO SE PREOCUPE COM A LETRA OU TAMANHO. A CAIXA DE TEXTO É MULTI LINHA)</div>
                </div>
            </div>
            <hr>
            <div class="row">
                <h2 class="mt-5">4. CUSTOS COM MANUTENÇÃO </h2>
                <h4>(Vai precisar consertar o que?)</h4>
                <span class="alert alert-info "><img src="/assets/img/caverna.PNG" width="100" alt="" style="display: flex;"><b>ORIENTAÇÃO</b><br>O botão verde abre uma lista que possui alguns motivos padronizados, pode escolher quantos forem necessários;<br>O botão azul abre uma caixa de texto onde será o senhor quem deverá descrever as necessidades de manutenção;<br>Pode combinar as duas opções também.</span>
            </div>
            <div class="row">
                <div class="col-md-9 mb-3">
                    <a id="addMotivoBtn" class="btn btn-success" onclick="addMotivo()" >(+) Adicionar um padrão</a>
                    <a id="addOutroMotivoBtn" class="btn btn-info" onclick="addMotivo2()" >(+) Descrever manualmente</a>
                    <a id="removeMotivoBtn" class="btn btn-danger" style="visibility: hidden;" onclick="removeMotivo()" >(-) Remover custo</a>
                    <input type="hidden" id="qtdMotivo" name="qtdMotivo" value="">
                </div>
                <div class="col-md-12" id="custosManutencao">

                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <label for="inputCusto" class="form-label">Valor de custo com manutenção em R$</label>
                    <input type="text" class="form-control" id="inputCusto"name="inputCusto" aria-describedby="DescricaoHelp" required>
                    <div id="produtoHelp" class="form-text">Valor do orçamento de manutenção<br>Só basta colocar os números. O formulário já formata pra você</div>  
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Coloque o valor em R$</div>
                </div>
                <div class="col-md-4">
                    <label for="inputPrecoNovo" class="form-label">Valor do produto NOVO em R$</label>
                    <input type="text" class="form-control" id="inputPrecoNovo"name="inputPrecoNovo" aria-describedby="produtoHelp"
                        required>
                    <div id="produtoHelp" class="form-text">Pesquisa de preços (Comércio em geral)<br>Só basta colocar os números. O formulário já formata pra você</div>            
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Pesquisa de preços (Comércio em geral)</div>
                </div>
                <div class="col-md-4">
                    <label for="inputPrecoUsado" class="form-label">Valor do produto USADO em R$</label>
                    <input type="text" class="form-control" id="inputPrecoUsado"name="inputPrecoUsado" aria-describedby="produtoHelp"
                        required>
                    <div id="produtoHelp" class="form-text">Fipe, comercio eletrônico, comercio em geral<br>Só basta colocar os números. O formulário já formata pra você</div>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Fipe, comercio eletrônico, comercio em geral</div>
                </div>
            </div>
            <hr>
            <div class="row">
                <h2 class="mt-5">5. CONCLUSÃO</h2>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <label for="selectDescarga" class="form-label">É para descarregar???</label>
                    <select name="selectDescarga" id="selectDescarga" class="form-select" required>
                        <option value="" selected disabled>Selecione...</option>
                        <option value="sim">Sim</option>
                        <option value="nao">Não</option>
                    </select>
                    <div class="valid-feedback">Tudo certo.</div>
                    <div class="invalid-feedback">Informar se a intenção é descarregar o material</div>
                    <div id="inclusaoDataHelp" class="form-text">Sim - Chego a conclusão de que tem que descarregar <br>Não - Chego a conclusão que deve permanecer na carga, pois é possivel fazer a manutenção</div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Gerar documento</button>
        </form>
        <div class="area" >
            <ul class="circles">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
            </ul>
        </div>
    </div >
    
    <script src="js/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="js/vanilla-masker.min.js"></script>
    <script>
        (() => {
            'use strict'
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            const forms = document.querySelectorAll('.needs-validation')
           

            // Loop over them and prevent submission
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
            VMasker(document.getElementById("inputCusto")).maskMoney();
            VMasker(document.getElementById("inputPrecoNovo")).maskMoney();
            VMasker(document.getElementById("inputPrecoUsado")).maskMoney();
            VMasker(document.getElementById("inputNomeacao")).maskPattern("999")
            VMasker(document.getElementById("inputDataNomeacao")).maskPattern("99/99/9999");
        })()
        
        const remover = document.getElementById("removeMotivoBtn")
        const input = document.createElement('textarea')
        let size=0;
        var sizeMaterial = 0;

        function addMotivo() {   
            size +=1;
            var e = document.getElementById("custosManutencao");
            e.insertAdjacentHTML('beforeend', 
                `<select id='motivo`+size+`'name='motivo`+size+`' class="form-select mb-2" required aria-label="selectCusto">
                        <option value="" disabled selected>Selecione...</option>
                        <optgroup label="Classe II - Intendência">
                            <option value="Necessidade do serviço de recuperação nas armações de aço.<br><br>Necessidade do serviço de recuperação completa das portas e dobradiças de metal<br><br>Necessidade de substituição das placas de metal da composição do armário.">Armarios Verde-Oliva</option>
                            <option value="Necessidade do serviço de recuperação completa da tapeçaria dos colchões.">Colchões de espuma</option>
                            <option value="Necessidade do serviço de recuperação completa das astes de metal<br><br>Necessidade do serviço de recuperação completa das lonas da barraca<br><br>Necessidade do serviço de recuperação dos ilhoses.">Barraca de Campanha</option>
                            <option value="Necessidade de recuperação da tampa da termo box.<br><br>Necessidade de recuperar e reparar a estrutura física interna.<br><br>Necessidade de substituição das travas de metal da tampa da termo box.">Termo Box Verde-Oliva</option>
                        </optgroup>
                        <optgroup label="Classe V - Armamentos">
                            <option value=""disabled>Pistola Beretta 9mm - </option>
                            <option value=""disabled>Fuzil Fal 7,62mm - </option>
                            <option value=""disabled>Escopeta .12" - </option>
                            <option value=""disabled>Faca MK2 - </option>
                            <option value=""disabled>Faca MK3 - </option>
                        </optgroup>
                        <optgroup label="Classe VI - Equipamentos">
                            <option value="Necessidade do serviço de recuperação completa do MOTOR com troca de peças, substituição, regulagem e desmontagem do motor para retifica, montagem com troca das juntas, recuperação dos indicadores de temperatura e pressão do óleo, substituição de tubulações de água e combustível.">Troca completa ou parcial de Motor</option>
                            <option value="Necessidade do serviço de recuperação do sistema de alimentação incluindo a retirada, colocação, desmontagem e montagem com substituição de peças da bomba de combustível, limpeza do reservatório de combustível e tubulações;">Sistema de alimentação</option>
                            <option value="Necessidade de serviço de recuperação do sistema elétrico incluindo a retirada, colocação, desmontagem e montagem com substituição de peças das reles, solenoides, caixa de fusíveis, troca dos instrumentos do painel. Aplicação do motor de partida, alternador cabos elétricos etc.;">Sistema Elétrico</option>
                            <option value="Necessidade do serviço de recuperação e reparação de lanternagem e pintura, lixamento completo, tratamento de camada de proteção de carroceria, remoção de amassados em lataria, tratamento com fundo PU, Aplicação de tinta nova, aplicação de verniz">Arrefecimento em geral</option>
                            <option value="Necessidade do serviço de recuperação no sistema de lagartas incluindo a retirada, reparo do material rodante, substituição de rolamentos, etc.">Lagartas</option>
                        </optgroup>
                        <optgroup label="Classe IX - Viaturas">
                            <option value="Necessidade do serviço de recuperação completa do MOTOR com troca de peças, substituição, regulagem e desmontagem do motor para retifica, montagem com troca das juntas, recuperação dos indicadores de temperatura e pressão do óleo, substituição de tubulações de água e combustível, pintura original">Troca completa ou parcial de Motor</option>
                            <option value="Necessidade do serviço de recuperação do sistema de alimentação incluindo a retirada, colocação, desmontagem e montagem com substituição de peças da bomba de combustível, limpeza do reservatório de combustível e tubulações;">Sistema de alimentação</option>
                            <option value="Necessidade de serviço de recuperação do sistema elétrico incluindo a retirada, colocação, desmontagem e montagem com substituição de peças das reles, solenoides, caixa de fusíveis, troca dos instrumentos do painel. Aplicação do motor de partida, alternador cabos elétricos etc.;">Sistema Elétrico</option>
                            <option value="Necessidade do serviço de recuperação do sistema de arrefecimento incluindo a retirada, colocação, desmontagem e montagem com substituição de peças, envaretamento das canaletas, limpeza do sistema de arrefecimento do motor; substituição da bomba d'água, bulbo de temperatura e relógio marcador de temperatura e mangueiras">Arrefecimento em geral</option>
                            <option value="Necessidade do serviço de recuperação e reparação de lanternagem e pintura, lixamento completo, tratamento de camada de proteção de carroceria, remoção de amassados em lataria, tratamento com fundo PU, Aplicação de tinta nova, aplicação de verniz">Funilaria</option>
                        </optgroup>
                </select>`);

            remover.style.visibility ='visible';
       
            document.getElementById("qtdMotivo").value = size;
          //  console.log(motivo.value);
            
        }
        function addMotivo2(){
            size +=1;
            (remover.style.visibility ? remover.style.visibility='visible': remover.style.visibility='hidden');
            input.className = 'form-control mb-3'
            input.id = 'motivo'+size
            input.name = 'motivo'+size
            document.getElementById("custosManutencao").append(input)
            document.getElementById("qtdMotivo").value = size;


        }
        function removeMotivo() {
            document.getElementById('motivo'+size).remove()
            size-=1;
            document.getElementById("qtdMotivo").value = size;

        if (size == 0) {
            remover.style.visibility ='hidden';
        }
            console.log(size)
        }

        function addMaterial(){
            var e = document.getElementById('materiais')
            sizeMaterial +=1;
                e.insertAdjacentHTML('beforeend',`<fieldset class="material mb-2 px-3"><legend>Material `+sizeMaterial+`</legend><div class="row">
                        <div class="col-lg mb-3">
                            <label for="electDependencia" class="form-label">A qual reserva de material pertence o item em avaliação?</label>
                            <select class="form-select" required aria-label="selectDependencia" name="selectDependencia`+sizeMaterial+`">
                                <option value="" disabled selected>Selecione...</option>
                                <option value="Reserva de material da Companhia de Comando e Apoio">CCAp</option>
                                <option value="Reserva de material da Companhia Engenharia de Equipamentos e Manutenção">Cia E Eqp Mnt</option>
                                <option value="Reserva de material da 1ª Companhia de Engenharia de Construção">1ª Cia E Cnst </option>
                                <option value="Reserva de material da 2ª Companhia de Engenharia de Construção">2ª Cia E Cnst</option>
                            </select>
                            <div class="valid-feedback">Tudo certo.</div>
                            <div class="invalid-feedback"> Opa, escolha uma reserva de material antes de enviar</div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2 mb-3">
                            <label for="inputPatrimonio" class="form-label">Patrimônio (SISCOFIS)</label>
                            <input type="input" class="form-control" id="inputPatrimonio`+sizeMaterial+`" name="inputPatrimonio`+sizeMaterial+`" aria-describedby="patrimonioHelp"
                                required>
                            <div class="valid-feedback">Tudo certo.</div>
                            <div class="invalid-feedback">Coloque o numero aqui!</div>
                            <div id="patrimonioHelp" class="form-text">Somente os cinco números finais. Ex.: 00317</div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="inputDescricao" class="form-label">Descrição (SISCOFIS)</label>
                            <input type="text" class="form-control" id="inputDescricao`+sizeMaterial+`" name="inputDescricao`+sizeMaterial+`" aria-describedby="DescricaoHelp"
                                required>
                            <div class="valid-feedback">Tudo certo.</div>
                            <div class="invalid-feedback">Coloque a descrição</div>
                            <div id="DescricaoHelp" class="form-text">Copie do SISCOFIS ou do DIEX de descarga ou do BI da
                                nomeção.</div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <label for="inputInclusaoValor" class="form-label">Valor de inclusão em carga (SISCOFIS)</label>
                            <input type="text" class="form-control" id="inputInclusaoValor`+sizeMaterial+`" name="inputInclusaoValor`+sizeMaterial+`"
                                aria-describedby="inputInclusaoValor" required>
                            <div class="valid-feedback">Tudo certo.</div>
                            <div class="invalid-feedback">Coloque o valor do material</div>
                            <div id="inclusaoValorHelp" class="form-text">Copie do SISCOFIS ou do DIEX de descarga ou do BI da
                                nomeção.</div>
                        </div>
                        <div class="col-md-2 mb-3">
                            <label for="inputInclusaoData" class="form-label">Data de inclusão em carga</label>
                            <input type="input" class="form-control" id="inputInclusaoData`+sizeMaterial+`" name="inputInclusaoData`+sizeMaterial+`" aria-describedby="inputInclusaoData"
                                required>
                            <div class="valid-feedback">Tudo certo.</div>
                            <div class="invalid-feedback">Coloque o valor do material</div>
                            <div id="inclusaoDataHelp" class="form-text">Copie do BI da nomeção.<br>Ex.: 10/05/2002</div>
                        </div>
                    </div></fieldset>`)

            document.getElementById("qtdMaterial").value = sizeMaterial;

            VMasker(document.getElementById("inputInclusaoValor"+sizeMaterial)).maskMoney();
            VMasker(document.getElementById("inputPatrimonio"+sizeMaterial)).maskPattern("99999")
            VMasker(document.getElementById("inputInclusaoData"+sizeMaterial)).maskPattern("99/99/9999");
        }
    </script>
    

</body>
<footer class=" text-center text-white" style="background-color:#09f;"><!-- footer-->
    <!-- Grid container -->
    <div class="container p-4">
      <!-- Section: Social media -->
      <section class="mb-4">
        
      </section>
      <section class="mb-4">
        <p>
          9º BEC - Av. Fernando Corrêa da Costa, 2979 - Boa Esperança<br>Cuiabá-MT - CEP: 78070-000<br> Tel. (65) 2121-0355 ou (65) 2121-0354 | Email: <a class="email text-white" href="mailto:clubesargentoscuiaba@gmail.com" target="_self">s1@9bec.eb.mil.br</a>
        </p>
      </section>
    </div>
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
      © 2022 | Autor: Luiz Fernando da Mota Carvalho - 3º Sgt 
    </div>
</footer>
</html>